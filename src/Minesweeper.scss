@import "./variables";

@mixin size($size) {
    width: $size;
    height: $size;
}

@mixin highlight-and-shadows($width, $highlight, $shadow) {
    border-top: $width solid $highlight;
    border-left: $width solid $highlight;
    border-right: $width solid $shadow;
    border-bottom: $width solid $shadow;
}

$size-cell: 30px;

:root {
    font-size: $size-cell * 17 / 32;
}

html,
body {
    padding: 0;
    margin: 0;

    height: fit-content;
    width: fit-content;

    background-color: #1b1b1b;
}

* {
    user-select: none;
    box-sizing: border-box;
}

div#root {
    overflow: hidden;

    table#Minesweeper {
        $size-borders: 4px;

        font-family: "MineSweeper";
        font-weight: 900;

        tr {
            display: flex;
            flex-direction: row;

            td {
                @include size($size-cell);
                @include highlight-and-shadows(
                    $size-borders,
                    $color-highlight,
                    $color-shadows
                );

                font-size: 1rem;

                background-color: $color-background;

                display: flex;
                align-items: center;
                justify-content: center;

                img {
                    @include size($size-cell - 7px);
                }

                $open-border: ($size-borders/2) solid $color-shadows;
                $open-padding: $size-borders / 2;

                &.open {
                    border: $open-border;
                    padding: $open-padding;
                }

                @at-root {
                    table#Minesweeper:not(.lost):active td:not(.flagged):hover {
                        border: $open-border !important;
                        padding: $open-border / 2 !important;
                    }
                }

                &.red {
                    background-color: red;
                }
            }
        }
    }
}
